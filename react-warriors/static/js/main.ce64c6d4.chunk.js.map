{"version":3,"sources":["components/MoviesTabs.js","components/movieItem.js","components/Pages.js","components/App.js","api.js","index.js"],"names":["MovieTabs","nextProps","nextState","sortBy","this","props","updateSortBy","handleClick","value","event","getClassName","className","onClick","style","cursor","React","Component","MovieItem","state","willWatch","movie","addMovieToWatch","removeMovieToWatch","width","src","backdrop_path","poster_path","alt","title","vote_average","type","setState","Pages","page","total_pages","updatePage","setPageClassName","spec_page","clName","aria-label","href","bind","aria-hidden","App","loadMovies","fetch","then","response","json","data","movies","results","new_moviesToWatch","moviesToWatch","filter","item","id","newPage","prevProps","prevState","map","position","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce64c6d4.chunk.js","sourcesContent":["import { render } from \"@testing-library/react\";\r\nimport React from \"react\";\r\n\r\nclass MovieTabs extends React.Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return nextProps.sortBy !== this.props.sortBy;\r\n    };\r\n\r\n    render() {\r\n        const {sortBy, updateSortBy} = this.props;\r\n        const handleClick = value => {\r\n        return event => {\r\n                updateSortBy(value);\r\n            }\r\n        };\r\n\r\n        const getClassName = (value) => {\r\n            return `nav-link ${sortBy === value ? \"active\" : \"\"}`;\r\n        };\r\n\r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassName(\"popularity.desc\")}\r\n                        onClick={handleClick(\"popularity.desc\")}\r\n                        style={{cursor: \"pointer\"}}\r\n                    >\r\n                        Popularity\r\n                    </div>\r\n                </li>\r\n    \r\n                <li className=\"nav-item\">\r\n                    <div \r\n                        className={getClassName(\"revenue.desc\")}\r\n                        onClick={handleClick(\"revenue.desc\")}\r\n                        style={{cursor: \"pointer\"}}\r\n                    >\r\n                        Revenue\r\n                    </div>\r\n                </li>\r\n    \r\n                <li className=\"nav-item\">\r\n                    <div \r\n                        className={getClassName(\"vote_average.desc\")}\r\n                        onClick={handleClick(\"vote_average.desc\")}\r\n                        style={{cursor: \"pointer\"}}\r\n                    >\r\n                        Vote average\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n    };\r\n}\r\n\r\nexport default MovieTabs;","import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            willWatch: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {movie, addMovieToWatch, removeMovieToWatch} = this.props;\r\n        return (\r\n            <div className=\"card\" style={{width: \"100%\"}}>\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                        movie.poster_path}`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        {this.state.willWatch ? (\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-success\"\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        willWatch: false\r\n                                    });\r\n                                    removeMovieToWatch(movie);\r\n                                }\r\n                                }>\r\n                                Won't watch\r\n                            </button>\r\n                            ) : (\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-secondary\"\r\n                                onClick={() => {\r\n                                        this.setState({\r\n                                            willWatch: true\r\n                                        });\r\n                                        addMovieToWatch(movie);\r\n                                    }\r\n                                }>\r\n                                Will Watch\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieItem;","import React from \"react\";\r\n\r\nclass Pages extends React.Component {\r\n    render() {\r\n        const {page, total_pages, updatePage} = this.props;\r\n\r\n        const setPageClassName = (page, spec_page) => {\r\n            let clName = \"page-item\";\r\n\r\n            if (page === spec_page)\r\n                clName += \" disabled\";\r\n            \r\n            return clName;\r\n        };\r\n\r\n        return (\r\n            <div className=\"col-12\">\r\n                <nav aria-label=\"Page navigation example\">\r\n                    <ul className=\"pagination justify-content-center\">\r\n                        <li className={setPageClassName(page, 1)}>\r\n                            <a className=\"page-link\" href=\"#\" aria-label=\"Previous\"\r\n                                onClick={updatePage.bind(null, page-1)}\r\n                            >\r\n                                <span aria-hidden=\"true\">&laquo;</span>\r\n                                <span className=\"sr-only\">Previous</span>\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className={setPageClassName(page, 1)}>\r\n                            <a className=\"page-link\" href=\"#\"\r\n                                onClick={updatePage.bind(null, 1)}\r\n                            >\r\n                                1\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className=\"page-item disabled\">\r\n                            <a className=\"page-link\" href=\"#\">\r\n                                ...\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className=\"page-item active\">\r\n                            <a className=\"page-link\" href=\"#\">\r\n                                {page}\r\n                            </a>\r\n                        </li>\r\n                        \r\n                        <li className=\"page-item disabled\">\r\n                            <a className=\"page-link\" href=\"#\">\r\n                                ...\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className={setPageClassName(page, total_pages)}>\r\n                            <a className=\"page-link\" href=\"#\"\r\n                                onClick={updatePage.bind(null, total_pages)}\r\n                            >\r\n                                {total_pages}\r\n                            </a>\r\n                        </li>\r\n\r\n                        <li className={setPageClassName(page, total_pages)}>\r\n                            <a className=\"page-link\" href=\"#\" aria-label=\"Next\"\r\n                                onClick={updatePage.bind(null, page+1)}\r\n                            >\r\n                                <span aria-hidden=\"true\">&raquo;</span>\r\n                                <span className=\"sr-only\">Next</span>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Pages;","import React from \"react\";\nimport MovieTabs from \"./MoviesTabs\"\nimport MovieItem from \"./movieItem\";\nimport Pages from \"./Pages\"\nimport {API_URL, API_KEY_3} from \"../api\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesToWatch: [],\n      sortBy: \"popularity.desc\",\n      page: 1,\n      total_pages: 0\n    }\n  };\n\n  componentDidMount() {\n    this.loadMovies();\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sortBy !== this.state.sortBy ||\n      prevState.page !== this.state.page)\n      this.loadMovies();\n  }\n\n  loadMovies = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}` +\n          `&sort_by=${this.state.sortBy}&page=${this.state.page}`).then(\n      response => response.json()\n      ).then(data => {\n        this.setState({\n          movies: data.results,\n          total_pages: data.total_pages\n        })\n      });\n  }\n\n  addMovieToWatch = movie => {\n    const new_moviesToWatch = [...this.state.moviesToWatch, movie];\n\n    this.setState({\n      moviesToWatch: new_moviesToWatch\n    })\n  };\n\n  removeMovieToWatch = movie => {\n    const new_moviesToWatch = this.state.moviesToWatch.filter(item => {\n      return item.id !== movie.id;\n    })\n\n    this.setState({\n      moviesToWatch: new_moviesToWatch\n    });\n  };\n\n  updateSortBy = sortBy => {\n    this.setState({\n      sortBy: sortBy\n    });\n  };\n\n  updatePage = newPage => {\n    this.setState({\n      page: newPage\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs \n                  sortBy={this.state.sortBy}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-4 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      addMovieToWatch={this.addMovieToWatch}\n                      removeMovieToWatch={this.removeMovieToWatch}\n                    /> \n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"row\">\n              <Pages\n                page={this.state.page}\n                total_pages={this.state.total_pages}\n                updatePage={this.updatePage}\n              />\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <div style={{position: \"fixed\"}}>\n              <h4>Will Watch: {this.state.moviesToWatch.length} movies</h4>\n              <ul className=\"list-group\">\n              {this.state.moviesToWatch.map(movie => {\n                return (\n                  <li className=\"list-group-item\" key={movie.id}>\n                    <div className=\"d-flex justify-content-between\">\n                      <div>{movie.title}</div>\n                      <div>{movie.vote_average}</div>\n                    </div>\n                  </li>\n                );\n              })}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './ex_movieItem';\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}